# shell_market
* ScreenUtil 导致 Scaffold 键盘无法弹起（需要设置 useInheritedMediaQuery: true,） 
* num、double 转 int， .toInt()
* 多个 Future 执行，如果不 await 也是乱序的，不用使用 Future.wait(),Future.wait()更适合 group 的场景
* 下拉刷新时记得执行 resetNoData
```dart
void onRefresh() {
  reqData(isRefresh: true).then((_) {
    refreshController.refreshCompleted();
    refreshController.resetNoData();
  }).catchError((_) {
    refreshController.refreshFailed();
  });
}

void onLoading() {
  if (canLoad) {
    reqData(isRefresh: false).then((_) {
      refreshController.loadComplete();
    }).catchError((_) {
      refreshController.loadFailed();
    });
  } else {
    refreshController.loadNoData();
  }
}
```

# 分页
是否最后一页求余方式是否有问题？有问题，求余为 0，页数刚好为 pagesize 的倍数会出问题
当前页不满一页也有问题：假设 size 为 10，距离刚好 30 条数据，会造成多调用一次上拉加载更多动作的接口